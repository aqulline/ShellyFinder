#:import sm kivy.uix.screenmanager
ScreenManager:
    id:manager
    transition:sm.FadeTransition(duration=.0)
    MDScreen:
        name:"home"
        FloatLayout:
            Dash:
                height:150
                pos_hint:{"center_x":.5, "center_y":.9}
            MDLabel:
                text:"Diesel"
                halign:"center"
                font_size:"25sp"
                #font_style:"H5"
                font_name: 'components/fonts/Gill Sans.otf'
                pos_hint:{"center_y":.93, "center_x":.18}
            MDLabel:
                text:"2,300"
                halign:"center"
                font_size: "18sp"
                font_style:"Body1"
                font_name: 'components/fonts/Gill Sans.otf'
                pos_hint:{"center_y":.89, "center_x":.18}
            MDLabel:
                text:"Petroleum"
                halign:"center"
                font_size:"25sp"
                #font_style:"H5"
                font_name: 'components/fonts/Gill Sans.otf'
                pos_hint:{"center_y":.93, "center_x":.6}
            MDLabel:
                text:"2,300"
                halign:"center"
                font_size: "18sp"
                font_style:"Body1"
                font_name: 'components/fonts/Gill Sans.otf'
                pos_hint:{"center_y":.89, "center_x":.6}
            Loc:
                orientation:"vertical"
                pos_hint:{"center_x":.5, "center_y":.6}
                on_release:
                    app.screen_capture("stations")
                    app.add_item()
                FloatLayout:
                    MDIcon:
                        icon:"google-maps"
                        halign:"center"
                        pos_hint:{"center_y":.65,"center_x":.5}
                        font_size:"50sp"
                    MDLabel:
                        text:"Nearby Stations"
                        font_size:'15sp'
                        halign:"center"
                        pos_hint:{"center_y":.25,"center_x":.5}

    MDScreen:
        name:"stations"
        FloatLayout:
            Dash:
                height:90
                pos_hint:{"center_x":.5, "center_y":.94}
            MDLabel:
                text:"Stations nearby"
                halign:"center"
                pos_hint:{"center_x":.25, "center_y":.94}
                font_size:"20sp"
            RecycleView:
                id: customers
                key_viewclass: 'viewclass'
                key_size: 'height'
                pos_hint:{"center_x":.5,"top":.876}
                RecycleBoxLayout:
                    id:wali
                    spacing:dp(4)
                    padding: dp(10)
                    default_size: None, dp(55)
                    default_size_hint: 1, None
                    size_hint_y: None
                    height: self.minimum_height
                    orientation: 'vertical'

    MDScreen:
        name:"map"
        MDBoxLayout:
            orientation:"vertical"
            MDBoxLayout:
                MapView:
                    id:map
                    #pos_hint:{"center_x":.5, "center_y":.5}
                    lat: app.lat
                    lon: app.lon
                    zoom: app.zoom
                    MapMarkerPopup:
                        source:"components/icons/user.png"
                        lat: app.lat
                        lon: app.lon
                        MDRaisedButton:
                            text:"My Location"
            MDBoxLayout:
                size:dp(50),dp(50)
                adaptive_height:True
                pos_hint:{"top":.9}
                MDIconButton:
                    icon:"plus"
                    pos_hint:{"center_x":.4,"center_y":.5}
                    on_release:
                        app.zoom = app.zoom + 2
                MDLabel:
                    text:str(app.zoom)
                    font_name: 'components/fonts/Gill Sans.otf'
                    font_size: "18sp"
                    halign:"center"
                    pos_hint:{"center_x":.5,"center_y":.5}
                MDIconButton:
                    icon:"minus"
                    pos_hint:{"center_x":.7,"center_y":.5}
                    on_release:
                        app.zoom = app.zoom - 2





<Loc@MDCard>:
    adaptive_height:True
    md_bg_color:201/255, 145/255, 142/255, 1
    size_hint:None, None
    size:app.size_x/3, app.size_y/6
    radius:40
    ripple_color:.1,.4,.4,1
    ripple_behavior: True

<RowCard>:
    #orientation: "vertical"
    md_bg_color: 1, 1, 1, 1
    pos_hint:{"center_x":.5,"center_y":.3}
    padding: "10dp"
    #spacing: "5dp"
    border_radius: 3
    border_color_a: .5
    border_color_a: 1
    adaptive_height:True
    radius: [3]
    size_hint: None, None
    size: app.size_x/1.5, app.size_y/11
    focus_behavior: False
    ripple_color:.9, .9, .95, 1
    ripple_behavior: True
    on_release:
        print(self.id)
        app.bus_stop_specific(self.id, root.name)
        app.screen_capture("map")
    FloatLayout:
        MDIcon:
            icon:root.icon
            badge_icon:"cat"
            font_size:"30sp"
            theme_text_color:"Custom"
            text_color: 106/255, 176/255, 76/255, 1
            pos_hint:{"center_x":.5,"center_y":.5}

        MDLabel:
            text:root.name
            font_size:"18sp"
            #halign:"center"
            pos_hint:{"center_x":.63,"center_y":.5}
<MapButton>:
    on_release:
        print(self.text)

<Dash@MDBoxLayout>:
    orientation:"vertical"
    adaptive_height: True
    md_bg_color: 193/255, 177/255, 168/255, 1
